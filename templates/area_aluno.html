{% extends 'base.html' %}

{% block title %} Minha √Årea | {{ nome_sistema }} {% endblock %}

{% block content %}
    <h2>üë§ Bem-vindo(a), {{ user_data.nome_completo }}!</h2>
    
    <div style="background-color: #e9ecef; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <h3>Status de Conta</h3>
        <p><strong>Perfil:</strong> Aluno</p>
        <p><strong>Celular de Acesso:</strong> {{ user_data.celular | celular }}</p>
        <p>
            <strong>Pagamento:</strong> 
            <span style="font-weight: bold; color: 
                {% if user_data.status_pagamento == 'Pago' %}var(--success-color){% elif user_data.status_pagamento == 'Pendente' %}var(--error-color){% else %}var(--secondary-color){% endif %};">
                {{ user_data.status_pagamento }}
            </span>
        </p>
    </div>

    {% if cliente %}
        <div style="border: 1px solid #ccc; padding: 20px; border-radius: 8px;">
            <h3>Seu Plano de Treino (Cliente #{{ cliente.id }})</h3>
            <p><strong>Nome Registrado:</strong> {{ cliente.nome }}</p>
            <p><strong>Professor:</strong> {{ usuarios.get(cliente.professor_celular, {}).get('nome_completo', 'N/D') }}</p>
            <p><strong>Objetivo Principal:</strong> {{ cliente.objetivo }}</p>
            <br>
            <p>Acesse aqui sua rotina e progresso:</p>
            <a href="{{ url_for('treinos', cliente_id=cliente.id) }}" class="button-link">Ver Meu Treino</a>
            <a href="{{ url_for('progresso', cliente_id=cliente.id) }}" class="button-link" style="margin-left: 10px;">Ver Meu Progresso</a>
        </div>
    {% else %}
        <div style="border: 1px solid #ccc; padding: 20px; border-radius: 8px; background-color: #f8d7da; color: #721c24;">
            <p style="font-weight: bold;">‚ö†Ô∏è Cliente N√£o Encontrado</p>
            <p>Seu perfil de aluno **{{ user_data.celular | celular }}** n√£o est√° vinculado a nenhum plano de treino (Cliente). Por favor, contate o Professor para que ele fa√ßa sua vincula√ß√£o.</p>
        </div>
    {% endif %}
{% endblock %}